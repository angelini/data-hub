{% extends 'base.html.j2' %}

{% block menu %}
  <li class="pure-menu-item"><a href="{{ url_for('hubs.hubs_index_html') }}" class="pure-menu-link">Hubs</a></li>
{% endblock %}

{% block header %}
  <h1>Dataset List</h1>
{% endblock %}

{% block content %}
  <a class="pure-button pure-button-primary" href="{{ url_for('datasets.dataset_new_html', hub_id=hub_id) }}">Add Dataset</a>
  <table class="pure-table pure-table-horizontal">
    <thead>
      <tr>
        <th>Name</th>
        <th>Published Version</th>
        <th>Created At</th>
        <th>Published At</th>
      </tr>
    </thead>
    <tbody>
      {% for dataset in datasets %}
        <tr>
          <td>
            <a href="{{ url_for('versions.versions_index_html', hub_id=dataset.hub_id, dataset_id=dataset.id) }}">{{ dataset.name }}</a>
          </td>
          <td>
            <a href="{{ url_for('versions.version_detail_html', hub_id=dataset.hub_id, dataset_id=dataset.id, version=dataset.version) }}">{{ dataset.version }}</a>
          </td>
          <td>{{ dataset.created_at | datetime }}</td>
          <td>{{ dataset.published_at | datetime }}</td>
        </tr>
      {% endfor %}
    </tbody>
  </table>
{% endblock %}
